diff --git a/libmpv/client.h b/libmpv/client.h
index 8eb5e05..072ae98 100644
--- a/libmpv/client.h
+++ b/libmpv/client.h
@@ -1729,6 +1729,7 @@ MPV_EXPORT mpv_event *mpv_wait_event(mpv_handle *ctx, double timeout);
  * Safe to be called from mpv render API threads.
  */
 MPV_EXPORT void mpv_wakeup(mpv_handle *ctx);
+MPV_EXPORT int mpv_lavc_set_java_vm(void *vm);
 
 /**
  * Set a custom function that should be called when there are new events. Use
diff --git a/player/client.c b/player/client.c
index 5087f89..c72faa1 100644
--- a/player/client.c
+++ b/player/client.c
@@ -965,6 +965,13 @@ void mpv_wakeup(mpv_handle *ctx)
     mp_mutex_unlock(&ctx->lock);
 }
 
+#include <libavcodec/jni.h>
+
+int mpv_lavc_set_java_vm(void *vm) {
+    return av_jni_set_java_vm(vm, NULL);
+}
+
+
 // map client API types to internal types
 static const struct m_option type_conv[] = {
     [MPV_FORMAT_STRING]     = { .type = CONF_TYPE_STRING },
